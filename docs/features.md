# Volition OS Feature Roadmap MVP

Based on the finalized feature roadmap for **Volition OS**, this document serves as the "Source of Truth" for driving development in Cursor1.

---

## Milestone 1: The Iron Skeleton (Foundation)

**Goal:** A running Next.js PWA connected to Supabase with Auth2.

| **Feature ID** | **Feature Name** | **Description**                                                                                                                                                              | **Acceptance Criteria**                                                                           | **Est. Effort** |
| -------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | --------------- |
| **1.1**        | Project Scaffold | Initialize Next.js 14+ (App Router), TypeScript, Tailwind, ai SDK, and manifest.json for PWA support3.                                                                       | 1. App loads at localhost:3000.<br><br>  <br><br>2. PWA is installable on mobile4.                | 1.0h            |
| **1.2**        | Supabase Schema  | Create SQL migrations for goals, phases, milestones, and jobs per PRD Section 35.                                                                                            | 1. Tables exist in Supabase Dashboard.<br><br>  <br><br>2. RLS policies set for user privacy6.    | 1.0h            |
| **1.3**        | Type Sync        | Define TypeScript interfaces in `types/volition.ts` (Complexity, Scope, Job, Goal)7.                                                                                         | 1. Types match Supabase DB columns.<br><br>  <br><br>2. No `any` types in core models8.           | 0.5h            |
| **1.4**        | Auth UI          | Implement Login page with Supabase Auth (Magic Link) and a Protected Route wrapper9.<br>Implement Login page with Supabase Auth (Magic Link) and a Protected Route wrapper9. | 1. Unauthenticated access redirects to /login.<br><br>  <br><br>2. Login persists user session10. | 1.5h            |

---

## Milestone 2: The Gatekeeper (Intent Validation)

**Goal:** Filter "Noise" from "Intent" (Module A & B). Does not involve detailed scoping11.

| **Feature ID** | **Feature Name**                  | **Description**                                                                                                                                    | **Acceptance Criteria**                                                                                                                    | **Est. Effort** |
| -------------- | --------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ | --------------- |
| **2.1**        | **The Classifier (Logic)**        | **Server Action.**<br><br>  <br><br>Receives raw text. Uses AI to classify as `INCUBATOR`(Mood) or `GATEKEEPER` (Goal).                            | 1. API returns `INCUBATOR` for "I'm sad".<br><br>  <br><br>2. API returns `GATEKEEPER` for "Build app".                                    | 1.0h            |
| **2.2**        | **The Input Interface (UI)**      | **Frontend Component.**<br><br>  <br><br>The landing page input box. Handles the loading state while 2.1 is running and redirects based on result. | 1. "Loading" spinner appears on submit.<br><br>  <br><br>2. Redirects to `/incubator`or `/gatekeeper` correctly.                           | 1.0h            |
| **2.3**        | **Stress Test Generator (Logic)** | **Server Action.**<br><br>  <br><br>Takes the Goal Title. Generates 3 "Pain" questions and 3 "Drive" questions. Returns JSON.                      | 1. Returns valid JSON array of 6 questions.<br><br>  <br><br>2. Questions are specific to the User's goal.                                 | 1.0h            |
| **2.4**        | **Stress Test Form (UI)**         | **Frontend Component.**<br><br>  <br><br>Displays the 6 questions. Inputs: Text Areas + Range Sliders (1-10) for confidence.                       | 1. Form validation (all fields required).<br><br>  <br><br>2. Submitting sends data to Scoring Logic.                                      | 2.0h            |
| **2.5**        | **Scoring & Decision (Logic)**    | **Server Action.**<br><br>  <br><br>Calculates score `(Pain*0.4 + Drive*0.6)`.<br><br>  <br><br>If < 60: Reject. If > 60: Call "Trial Generator".  | 1. Score calculation is accurate.<br><br>  <br><br>2. Returns `REJECT` or `PROCEED` status.                                                | 0.5h            |
| **2.6**        | **Trial Generator (Logic)**       | **Server Action.**<br><br>  <br><br>Generates a 3-7 day "Micro-Plan". Inserts rows into `trial_tasks` table.                                       | 1. DB has 3-7 new rows for this goal.<br><br>  <br><br>2. Tasks are short (<20 min) and executable.                                        | 1.5h            |
| **2.7**        | **Trial Dashboard (UI)**          | **Frontend Component.**<br><br>  <br><br>The "Limbo" View. Shows _only_ the active day's task. Hides future days.                                  | 1. Future tasks are blurred/hidden.<br><br>  <br><br>2. "Mark Done" unlocks the next day.<br><br>  <br><br>3. "Give Up" archives the goal. | 2.5h            |
| **2.8**        | **Graduation Handler (Logic)**    | **Server Action.**<br><br>  <br><br>Triggered when the final task is done. Updates Goal Status to `PENDING_SCOPE`.                                 | 1. Goal Status changes in DB.<br><br>  <br><br>2. User is redirected to Milestone 3 (Scope).                                               | 0.5h            |



---

## Milestone 3: The Adaptive Architect (Scoping & Planning)

**Goal:** Establish Scope (  C, Phase 1) $\to$ Size (Phase 2) $\to$ Plan (Phase 3)18.

| **Feature ID** | **Feature Name**                                       | **Description**                                                                                                                          | **Acceptance Criteria**                                                                                                                                                                                                                                                    | **Est. Effort** |     |
| -------------- | ------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- | --- |
| **3.1**        | **The Surveyor**<br><br>  <br><br>_(Scope Form)_       | **UI Form & DB Update.**<br><br>  <br><br>Collects the "Triangle of Scope" (Hard constraints) from the user before planning begins.      | 1. **Validation:** Rejects non-numeric "Hours/Week" and empty "Definition of Done".<br><br>  <br><br>2. **Persistence:** Successfully updates the `goals.scope` JSONB column in Supabase.<br><br>  <br><br>3. **UX:** Auto-advances to Feature 3.2 upon success.           | 1.5h            |     |
| **3.2**        | **Complexity Estimator**<br><br>  <br><br>_(Prompt A)_ | **Server Action.**<br><br>  <br><br>AI analyzes `Goal` + `Scope` to estimate total effort (Hours) and size (S/M/L).                      | 1. **Logic:** Returns `SIZE: LARGE` if estimated hours > 100.<br><br>  <br><br>2. **Output:** Returns valid JSON matching `ComplexitySchema`.<br><br>  <br><br>3. **DB:** Updates `goals.complexity` with the result.                                                      | 1.5h            |     |
| **3.3**        | **Blueprint Generator**<br><br>  <br><br>_(Prompt B)_  | **Server Action.**<br><br>  <br><br>Generates the _Structure_ (Phases & Milestones) based on Complexity. **Does not generate jobs yet.** | 1. **Miller's Law:** No Phase contains > 7 Milestones.<br><br>  <br><br>2. **Hierarchy:** Correctly links Milestones to Phases (Parent/Child IDs).<br><br>  <br><br>3. **DB:** Bulk inserts rows into `phases` and `milestones` tables.                                    | 2.0h            |     |
| **3.4**        | **Blueprint Renderer**<br><br>  <br><br>_(The Map UI)_ | **Frontend Component.**<br><br>  <br><br>Visualizes the Phases/Milestones tree. Allows the user to select the "Active Milestone."        | 1. **Visual:** Clearly distinguishes between "Active," "Pending," and "Locked" phases.<br><br>  <br><br>2. **Interaction:** Clicking a Milestone opens the "Job View" (Feature 3.5).<br><br>  <br><br>3. **Load State:** Handles skeletal loading while 3.3 is generating. | 2.0h            |     |
| **3.5**        | **The Job Atomizer**<br><br>  <br><br>_(Prompt C)_     | **Server Action.**<br><br>  <br><br>Generates specific `Job Clusters` and `Jobs` _only_for the currently Active Milestone.               | 1. **Atomic Constraint:** All generated jobs have `est_minutes <= 120`.<br><br>  <br><br>2. **Context:** Jobs are contextually relevant to the specific Milestone.<br><br>  <br><br>3. **DB:** Inserts jobs into `jobs` table with correct `milestone_id`.                 | 2.0h            |     |

---

## Milestone 4: The Action Engine (Execution)

**Goal:** The Interface (Module D). "Compass, not Map"29.

| **Feature ID** | **Feature Name**                                                | **Description**                                                                                                                                                          | **Acceptance Criteria**                                                                                                                                                                                                                                                                                              | **Est. Effort** |
| -------------- | --------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- |
| **4.1**        | **Live State Controller**<br><br>  <br><br>_(Persistent Input)_ | **UI Component (Global).**<br><br>  <br><br>A persistent toggle or slider (High/Med/Low) visible on the Action Dashboard. Allows the user to change state _at any time_. | 1. **Visibility:** Always accessible (e.g., sticky header).<br><br>  <br><br>2. **Reactivity:** Changing the toggle immediately triggers a re-fetch/re-filter of the Job Queue.<br><br>  <br><br>3. **Feedback:** Visual theme changes slightly (e.g., Blue for Deep Work, Green for Quick Wins).                    | 1.5h            |
| **4.2**        | **The Context Engine**<br><br>  <br><br>_(Reactive Logic)_      | **Client-Side Logic / Hook.**<br><br>  <br><br>Listens to `user_state` and `active_cluster`. Hot-swaps the visible jobs without a page reload.                           | 1. **Filter Logic:**<br><br>  <br><br>- **High:** Show _All_ types (prioritize Deep Work).<br><br>  <br><br>- **Med:** Show _Anchor_ & _Quick Win_.<br><br>  <br><br>- **Low:** Show _Quick Win_ only.<br><br>  <br><br>2. **Empty State:** If Low Energy + No Quick Wins $\to$ Prompt "Break Down Task" (Module E). | 2.0h            |
| **4.3**        | **The Compass View**<br><br>  <br><br>_(Focus UI)_              | **Frontend Component.**<br><br>  <br><br>The default view. Shows the top 1-3 recommended cards based on the _current_Controller state.                                   | 1. **Focus:** Displays "Hero Card" for the top recommendation.<br><br>  <br><br>2. **Animation:** Smooth transition when state changes (cards shuffle/fade).                                                                                                                                                         | 2.0h            |
| **4.4**        | **The Cluster Explorer**<br><br>  <br><br>_(Manual Map)_        | **Frontend Component (Collapsible).**<br><br>  <br><br>A "Show All" drawer. Displays the full active cluster grouped by status, ignoring the Energy Filter.              | 1. **Override:** Allows user to select a "Deep Work" task even if State is set to "Low".<br><br>  <br><br>2. **Context:** Visually distinct from the focused Compass view.                                                                                                                                           | 2.0h            |
| **4.5**        | **Job Actions**<br><br>  <br><br>_(Execution)_                  | **Server Action.**<br><br>  <br><br>Standard execution logic: Start Timer, Mark Done, Mark Failed.                                                                       | 1. **Optimistic UI:** "Done" task vanishes immediately.<br><br>  <br><br>2. **Failure Hook:** "Mark Failed" captures the reason (for Module E).                                                                                                                                                                      | 1.5h            |

---

## Milestone 5: The Recalibrator (Self-Healing)

**Goal:** Repair broken plans (Module E)36.

| **Feature ID** | **Feature Name**                                          | **Description**                                                                                                                                                                                                                                         | **Acceptance Criteria**                                                                                                                                                                                                                                        | **Est. Effort** |
| -------------- | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- |
| **5.1**        | **The Failure Interceptor**<br><br>  <br><br>_(UI Modal)_ | **Frontend Component.**<br><br>  <br><br>Triggered when a user clicks "Fail" on a job. Displays 3 distinct options:<br><br>  <br><br>1. Try Next Time<br><br>  <br><br>2. Change Content<br><br>  <br><br>3. Give Up Goal                               | 1. **Trigger:** Opens immediately on "Mark Failed."<br><br>  <br><br>2. **Input:** Captures a text note/reason from the user.<br><br>  <br><br>3. **Routing:** Selection routes to Feature 5.2, 5.3, or 5.5.                                                   | 1.5h            |
| **5.2**        | **Retry Handler**<br><br>  <br><br>_(Path 1 Logic)_       | **Server Action.**<br><br>  <br><br>Handles "Try Next Time."<br><br>  <br><br>1. Records the failure note.<br><br>  <br><br>2. **Upgrades Difficulty** (e.g., changes tag from `QUICK_WIN` to `ANCHOR`).<br><br>  <br><br>3. Resets status to `ACTIVE`. | 1. **Persistence:** Saves failure note to history.<br><br>  <br><br>2. **Logic:** Increases `difficulty_level`or `energy_type` (making it "Harder" as requested).<br><br>  <br><br>3. **Queue:** Job reappears in the active list immediately.                 | 1.0h            |
| **5.3**        | **The Negotiator**<br><br>  <br><br>_(Path 2 Step 1)_     | **Server Action (AI).**<br><br>  <br><br>Analyzes the user's "Change Reason." AI acts as a consultant: suggests either "Insisting" (Don't change) or "Changing" (Agree to change).                                                                      | 1. **Input:** Takes User Reason + Job Context.<br><br>  <br><br>2. **Output:** Returns a short advice string (Opinion).<br><br>  <br><br>3. **UI:** User sees the advice and a "Confirm Change" button.                                                        | 2.0h            |
| **5.4**        | **The Job Mutator**<br><br>  <br><br>_(Path 2 Step 2)_    | **Server Action (AI).**<br><br>  <br><br>If "Change" is confirmed, AI generates a _new_ version of the job (Regenerate). Supports a loop (Reject $\to$ Regenerate $\to$ Confirm).                                                                       | 1. **Replacement:** The new job _overwrites_ the old job in the DB (or archives old + inserts new).<br><br>  <br><br>2. **Loop:** "Regenerate" button calls the AI again.<br><br>  <br><br>3. **Finalize:** "Confirm" saves the new job to the Active Cluster. | 2.5h            |
| **5.5**        | **Goal Archivist**<br><br>  <br><br>_(Path 3 Logic)_      | **Server Action.**<br><br>  <br><br>Handles "Give Up Goal." Marks the parent Goal as `FAILED` and cleans up pending tasks.                                                                                                                              | 1. **Status:** Updates `goals.status` to `FAILED`.<br><br>  <br><br>2. **Cleanup:** Cancels all pending jobs associated with this goal.<br><br>  <br><br>3. **Redirection:** Redirects user to the "Incubator" or Home.                                        | 1.0h            |

---

### How to Trigger Milestone 1 in Cursor

Copy the exact prompt below to start coding43:

> "I am starting Milestone 1 of Volition OS. Initialize a Next.js 14 (App Router) project with TypeScript and Tailwind. Install the core dependencies: ai, zod, @supabase/supabase-js, lucide-react, and next-pwa. Create the file types/volition.ts and define the strict TypeScript interfaces for Goal, Scope, Complexity, Phase, Milestone, and Job as defined in our Spec. Generate a Supabase SQL Migration file that creates the matching tables (goals, milestones, jobs) with correct Foreign Keys and RLS policies." 44

**Would you like me to generate the TypeScript interfaces or the SQL migration script for Milestone 1 now?**